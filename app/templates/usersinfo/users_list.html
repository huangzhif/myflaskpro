{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-body">
        <div class="col-sm-1" style="padding-left: 0">
            <a href="{{ url_for('bp_users.create_user') }}" class="btn btn-sm btn-info">创建用户</a>
        </div>
        <table class="table table-striped"
               id="id_userslist">
        </table>
    </div>
</div>
{% endblock %}
{% block custom_foot_js %}
    <script type="text/javascript">
    var operateFormatter = function (value, row, index) {//赋予的参数
        console.info(value,row,index);
      return [
          '<button class="btn btn-info btn-sm rightSize detailBtn" type="button">编辑</button>',
          '<button class="btn btn-danger btn-sm rightSize packageBtn" type="button">删除</button>'
      ].join(' ');
  }

        $("#id_userslist").bootstrapTable({
            url: "{{ url_for('bp_users.get_users') }}",
            pagination: true,
            pageList: [10, 20],
            search: true,
            classes: "table table-hover",
            columns: [{
                field: 'idx',
                title: '序号'
            },
                {
                    field: 'username',
                    title: '用户名'
                },
                {
                    field: 'email',
                    title: '邮箱'
                },{
                      field: 'operate',
                      title: '操作',
                      align: 'center',
                      valign: 'middle',
                      formatter: operateFormatter //自定义方法，添加操作按钮
                  }]
        })
    </script>
{% endblock %}